{"ast":null,"code":"import _regeneratorRuntime from\"/Users/markhustad/Desktop/Javascript/Udacity/reactnanodegree/MyReads-Udacity/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/markhustad/Desktop/Javascript/Udacity/reactnanodegree/MyReads-Udacity/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/markhustad/Desktop/Javascript/Udacity/reactnanodegree/MyReads-Udacity/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/markhustad/Desktop/Javascript/Udacity/reactnanodegree/MyReads-Udacity/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import{useState,useEffect}from\"react\";import{Route,Routes,useNavigate}from\"react-router-dom\";import*as BooksAPI from\"./BooksAPI\";import ListBooks from\"./components/ListBooks\";import Search from\"./components/Search\";import BookDetails from\"./components/BookDetails\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setBooks=_useState2[1];useEffect(function(){BooksAPI.getAll().then(function(books){setBooks(books);});},[]);var updateBook=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(book,shelf){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:book.shelf=shelf;BooksAPI.update(book,shelf).then(function(){setBooks([].concat(_toConsumableArray(books.filter(function(b){return b.id!==book.id;})),[book]));});navigate(\"/\");case 3:case\"end\":return _context.stop();}}},_callee);}));return function updateBook(_x,_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/search\",element:/*#__PURE__*/_jsx(Search,{books:books,updateBook:updateBook,setBooks:setBooks})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(ListBooks,{books:books,updateBook:updateBook})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/details/:id/:title\",element:/*#__PURE__*/_jsx(BookDetails,{updateBook:updateBook})})]});};export default App;","map":{"version":3,"names":["useState","useEffect","Route","Routes","useNavigate","BooksAPI","ListBooks","Search","BookDetails","App","navigate","books","setBooks","getAll","then","updateBook","book","shelf","update","filter","b","id"],"sources":["/Users/markhustad/Desktop/Javascript/Udacity/reactnanodegree/MyReads-Udacity/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport * as BooksAPI from \"./BooksAPI\";\nimport ListBooks from \"./components/ListBooks\";\nimport Search from \"./components/Search\";\nimport BookDetails from \"./components/BookDetails\";\n\nconst App = () => {\n  let navigate = useNavigate();\n  const [books, setBooks] = useState([]);\n\n  useEffect(() => {\n    BooksAPI.getAll().then(books => {\n      setBooks(books);\n    })\n  }, []);\n\n  const updateBook =  async (book, shelf) => {\n    book.shelf = shelf;\n    BooksAPI.update(book, shelf).then(() => {\n      setBooks([...books.filter((b) => b.id !== book.id), book]);\n    });\n\n    navigate(\"/\");\n  };\n\n  return (\n  <Routes>\n    <Route \n      exact path=\"/search\"\n      element={\n        <Search books={books} updateBook={updateBook} setBooks={setBooks} />\n      }\n    />\n    <Route \n      exact path=\"/\"\n      element={\n        <ListBooks books={books} updateBook={updateBook} />\n      }\n    />\n    <Route \n      exact path=\"/details/:id/:title\"\n      element={\n        <BookDetails updateBook={updateBook} />\n      }\n    />\n  </Routes>\n  );\n}\n\nexport default App;\n"],"mappings":"gqBAAA,MAAO,WAAP,CACA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,KAAT,CAAgBC,MAAhB,CAAwBC,WAAxB,KAA2C,kBAA3C,CACA,MAAO,GAAKC,SAAZ,KAA0B,YAA1B,CACA,MAAOC,UAAP,KAAsB,wBAAtB,CACA,MAAOC,OAAP,KAAmB,qBAAnB,CACA,MAAOC,YAAP,KAAwB,0BAAxB,C,wFAEA,GAAMC,IAAG,CAAG,QAANA,IAAM,EAAM,CAChB,GAAIC,SAAQ,CAAGN,WAAW,EAA1B,CACA,cAA0BJ,QAAQ,CAAC,EAAD,CAAlC,wCAAOW,KAAP,eAAcC,QAAd,eAEAX,SAAS,CAAC,UAAM,CACdI,QAAQ,CAACQ,MAAT,GAAkBC,IAAlB,CAAuB,SAAAH,KAAK,CAAI,CAC9BC,QAAQ,CAACD,KAAD,CAAR,CACD,CAFD,EAGD,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMI,WAAU,4FAAI,iBAAOC,IAAP,CAAaC,KAAb,oHAClBD,IAAI,CAACC,KAAL,CAAaA,KAAb,CACAZ,QAAQ,CAACa,MAAT,CAAgBF,IAAhB,CAAsBC,KAAtB,EAA6BH,IAA7B,CAAkC,UAAM,CACtCF,QAAQ,8BAAKD,KAAK,CAACQ,MAAN,CAAa,SAACC,CAAD,QAAOA,EAAC,CAACC,EAAF,GAASL,IAAI,CAACK,EAArB,EAAb,CAAL,GAA4CL,IAA5C,GAAR,CACD,CAFD,EAIAN,QAAQ,CAAC,GAAD,CAAR,CANkB,sDAAJ,kBAAVK,WAAU,gDAAhB,CASA,mBACA,MAAC,MAAD,yBACE,KAAC,KAAD,EACE,KAAK,KADP,CACQ,IAAI,CAAC,SADb,CAEE,OAAO,cACL,KAAC,MAAD,EAAQ,KAAK,CAAEJ,KAAf,CAAsB,UAAU,CAAEI,UAAlC,CAA8C,QAAQ,CAAEH,QAAxD,EAHJ,EADF,cAOE,KAAC,KAAD,EACE,KAAK,KADP,CACQ,IAAI,CAAC,GADb,CAEE,OAAO,cACL,KAAC,SAAD,EAAW,KAAK,CAAED,KAAlB,CAAyB,UAAU,CAAEI,UAArC,EAHJ,EAPF,cAaE,KAAC,KAAD,EACE,KAAK,KADP,CACQ,IAAI,CAAC,qBADb,CAEE,OAAO,cACL,KAAC,WAAD,EAAa,UAAU,CAAEA,UAAzB,EAHJ,EAbF,GADA,CAsBD,CAzCD,CA2CA,cAAeN,IAAf"},"metadata":{},"sourceType":"module"}